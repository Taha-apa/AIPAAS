{%extends 'profileBase.html' %}
{%block content%}
<h3 class="display-6 align-self-center mb-3" style="margin-left: 20px;">
    Welcome Back {{name}}
</h3>
{% with messages = get_flashed_messages(with_categories  = true)%}
{%if messages%}
    {%for category,message in messages%}
        {%if category == 'success'%}
        <div class="text-success" style="margin-left: 20px;">{{message}}</div>
        {%endif%}
        {%if category == 'error'%}
        <div class="text-danger" style="margin-left: 20px;">{{message}}</div>
        {%endif%}
    {%endfor%}
{%endif%}
{%endwith%}
<div class="mx-auto rounded border-primary mb-3" style="margin-left: 20px;width: 300px;">
    <form method="post" enctype="multipart/form-data">
        <label for="code" class="form-label" >upload your code Or Data Set</label>
        <input type="file" class="form-control" id="code" name="file" >
        <input type="submit" value="Upload">
    </form>
</div>
<div class="rounded border-success" style="margin-left:40px ;">
    <div class="row">
        <div class="col-4">
            {%if not codes %}
            <div class="text-muted">No files</div>
            {%endif%}
            {%if codes%}
            <div class="list-group" id="list-tab" role="tablist">Codes:
            {%for code in codes%}
            <div class="list-group-item text-dark">{{code.codeName}}</div>
            {%endfor%}
            {%endif%}
            </div>
        </div>
        <div class="col-4">
            {%if not datasets %}
            <div class="text-muted">No files</div>
            {%endif%}
            {%if datasets%}
            <div class="list-group" id="list-tab" role="tablist">DataSets:
            {%for dataset in datasets%}   
            <div class="list-group-item text-dark">{{dataset.codeName}}</div>
            {%endfor%}
            {%endif%}
            </div>
        </div>
    </div>
</div>
{%endblock%}